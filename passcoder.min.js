$.fn.passcoder=function(e){var t=$.extend({characters:4,margin:5},e);var n=(this.width()-t.margin*2*t.characters)/t.characters;var r=this.attr("name");var i=this.attr("type");var s=this.attr("class");var o="";for(var u=0;u<t.characters;u++){o+='<input style="display:inline-block" type="'+i+'" class="'+s+' passcoder" autocomplete="off" type="text" maxlength="1" name="'+r+"-"+u+'" />'}var a=$.parseHTML(o);$(a).each(function(){$(this).css("width",n+"px");$(this).css("margin",t.margin+"px");$(this).css("text-align","center")});this.replaceWith(a);$(".passcoder").keydown(function(e){if(e.which==8){e.preventDefault();$(this).val("");$(this).prevAll(".passcoder:first").focus()}else if(e.which>47&&e.which<58||e.which>96&&e.which<106){if($(this).val()!=""){$(this).nextAll(".passcoder:first").focus()}else{e.preventDefault();$(this).val(String.fromCharCode(e.which));$(this).nextAll(".passcoder:first").focus()}}else if(e.which==13){}else{e.preventDefault()}})};$.fn.getPasscode=function(){var e="";this.each(function(){e+=this.value});return e}
